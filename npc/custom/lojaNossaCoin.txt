// Criado por Alek Emundus
// Vende itens, em Prontera, usando NossaCoin
// Troca NossaCoin em grandes quantidades!

prontera,151,187,5	script	Nossa Loja	72,{
	mes "[Nossa Loja]";
	mes "Olá, escolha sua opção:";
	switch(select("~ Comprar NossaCoin:~ Comprar Itens:~ Outras opções")) {
		case 1: // Comprar NossaCoin
			clear;
			mes "[Nossa Loja]";
			mes "Informe a quantidade de NossaCoins para trocar.";
			mes "Você possui " + #NOSSACOIN + " NossaCoins";
			input .@Value;
			if(#NOSSACOIN >= .@Value){
				set #NOSSACOIN, #NOSSACOIN - .@Value;
				getitem 671,.@Value;
				clear;
				mes "[Nossa Loja]";
				mes "Você trocou " + .@Value + " NossaCoins, volte sempre!";
				mes "Você tem " + #NOSSACOIN + " NossaCoins restantes.";
				close;
			} else {
				clear;
				mes "[Nossa Loja]";
				mes "Você não tem " + .@Value + " NossaCoins para trocar...";
				mes "Você tem " + #NOSSACOIN + " NossaCoins.";
				close;
			}
		case 2: // Comprar itens
			clear;
			mes "[Nossa Loja]";
			mes "Aqui está!";
			close2;
			callshop "nossaLoja";
			end;
		case 3: // Outras opcoes
			clear;
			mes "[Nossa Loja]";
			mes "Posso trocar grandes quantias de NossaCoin!";
			switch(select("~ Ok, vamos lá!:~ Não, obrigado..")){
				case 1: //Trocar nossa coin
				input .@Value;
				if(countitem(671) >= .@Value){
				set #NOSSACOIN, #NOSSACOIN + .@Value;
				delitem 671,.@Value;
				clear;
				mes "[Nossa Loja]";
				mes "Você trocou " + .@Value + " NossaCoins, volte sempre!";
				mes "Você tem " + #NOSSACOIN + " NossaCoins na conta, e " + countitem(671) + " no inventário!";
				close;
				} else {
					clear;
					mes "[Nossa Loja]";
					mes "Você não tem " + .@Value + " NossaCoins para trocar...";
					mes "Você tem " + countitem(671) + " NossaCoins.";
					close;
				}
			}
	}
}